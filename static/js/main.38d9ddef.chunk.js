(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(76)},39:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(29),r=a.n(o),i=(a(39),a(40),a(5)),l=a(7);var u,s=function(e){var t=e.explanation,a=e.handleText,n=Object(i.a)(a,2),o=n[0],r=n[1],u=l("explanation",{overlay:o});return c.a.createElement("div",{className:u,onClick:function(){return r(!o)}},c.a.createElement("p",null,o?t:function(e,t){if(e&&e[t])for(var a=t;a<e.length;a++)if(/\W/.test(e[a])&&e[a+1]){e=e.slice(0,a)+"...";break}return e}(t,200)))},d=a(30),f=a.n(d),m=a(31),v=a.n(m),h=a(78),p=a(32),w=a.n(p),g=(a(75),a(7)),b={};var E=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(new Date),l=Object(i.a)(r,2),d=l[0],m=l[1],p=Object(n.useState)(!1),E=Object(i.a)(p,2),O=E[0],j=E[1],y=Object(n.useState)(!1),D=Object(i.a)(y,2),x=D[0],k=D[1],S=function(e){return e.toISOString().match(/[^T]*/)[0]};function N(e){var t="?date=".concat(e);w.a.get("https://api.nasa.gov/planetary/apod"+t).then(function(t){var a=t.data;console.log("data received"),b[e]=a,a.date===S(d)&&o(a)}).catch(function(e){console.dir(e)})}function T(e){j(!1);var t=new Date(d);switch(e.which){case 37:t.setDate(t.getDate()-1),m(t);break;case 39:t.setDate(t.getDate()+1),t<=Date.now()&&m(t)}}function I(){clearInterval(u),u=setTimeout(function(){return j(!0)},3e3)}Object(n.useEffect)(function(){console.log(b);for(var e=0;e<5;e++){var t=new Date(d);t.setDate(t.getDate()-e);var a=S(t);b[a]?0===e&&o(b[a]):N(a)}},[d]),Object(n.useEffect)(function(){document.onkeyup=T},[a]),Object(n.useEffect)(function(){document.onmousemove=function(e){O&&(j(!1),I())}},[O]),Object(n.useEffect)(function(){setTimeout(function(){document.querySelector(".tip").classList.add("fade-out")},2500)},[]);var J=a.date,L=a.explanation,W=a.hdurl,q=a.title,B=a.media_type,C=a.url,H=g("fader",{"text-hidden":O&&!x});return c.a.createElement("div",{className:"app"},"image"===B&&c.a.createElement(f.a,{className:"hd-image",src:W,onLoad:I,loader:c.a.createElement(h.a,{type:"grow",style:{color:"#fff",width:"3rem",height:"3rem"}})}),"video"===B&&c.a.createElement(v.a,{id:"video",url:C,width:window.innerWidth,height:window.innerHeight,playing:!0}),c.a.createElement("div",{className:H},c.a.createElement("h1",null,q),c.a.createElement(s,{explanation:L,handleText:[x,k]}),c.a.createElement("time",null,J)),c.a.createElement("div",{className:"tip"},"Use \u2190 or \u2192 keys to navigate"))};r.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.38d9ddef.chunk.js.map