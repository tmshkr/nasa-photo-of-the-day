(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(76)},39:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(29),i=a.n(o),r=(a(39),a(40),a(5)),l=a(7);var u,s=function(e){var t=e.explanation,a=e.handleText,n=Object(r.a)(a,2),o=n[0],i=n[1],u=l("explanation",{overlay:o});return c.a.createElement("div",{className:u,onClick:function(){return i(!o)}},c.a.createElement("p",null,o?t:function(e,t){if(e&&e[t])for(var a=t;a<e.length;a++)if(/\W/.test(e[a])&&e[a+1]){e=e.slice(0,a)+"...";break}return e}(t,200)))},d=a(30),f=a.n(d),m=a(31),v=a.n(m),p=a(78),h=a(32),w=a.n(h),E=(a(75),a(7)),g={};var b=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(new Date),l=Object(r.a)(i,2),d=l[0],m=l[1],h=Object(n.useState)(!1),b=Object(r.a)(h,2),O=b[0],j=b[1],y=Object(n.useState)(!1),D=Object(r.a)(y,2),k=D[0],x=D[1],S=function(e){return e.toISOString().match(/[^T]*/)[0]};function N(e){var t="?api_key=DEMO_KEY&date=".concat(e);w.a.get("https://api.nasa.gov/planetary/apod"+t).then(function(t){var a=t.data;console.log("data received"),g[e]=a,a.date===S(d)&&o(a)}).catch(function(e){console.dir(e)})}function T(e){j(!1);var t=new Date(d);switch(e.which){case 37:t.setDate(t.getDate()-1),m(t);break;case 39:t.setDate(t.getDate()+1),t<=Date.now()&&m(t)}}function I(){clearInterval(u),u=setTimeout(function(){return j(!0)},3e3)}Object(n.useEffect)(function(){console.log(g);for(var e=0;e<5;e++){var t=new Date(d);t.setDate(t.getDate()-e);var a=S(t);g[a]?0===e&&o(g[a]):N(a)}},[d]),Object(n.useEffect)(function(){document.onkeyup=T},[a]),Object(n.useEffect)(function(){document.onmousemove=function(e){O&&(j(!1),I())}},[O]),Object(n.useEffect)(function(){setTimeout(function(){document.querySelector(".tip").classList.add("fade-out")},2500)},[]);var _=a.date,J=a.explanation,L=a.hdurl,W=a.title,q=a.media_type,B=a.url,C=E("fader",{"text-hidden":O&&!k});return c.a.createElement("div",{className:"app"},"image"===q&&c.a.createElement(f.a,{className:"hd-image",src:L,onLoad:I,loader:c.a.createElement(p.a,{type:"grow",style:{color:"#fff",width:"3rem",height:"3rem"}})}),"video"===q&&c.a.createElement(v.a,{id:"video",url:B,width:window.innerWidth,height:window.innerHeight,playing:!0}),c.a.createElement("div",{className:C},c.a.createElement("h1",null,W),c.a.createElement(s,{explanation:J,handleText:[k,x]}),c.a.createElement("time",null,_)),c.a.createElement("div",{className:"tip"},"Use \u2190 or \u2192 keys to navigate"))};i.a.render(c.a.createElement(b,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.40bd282b.chunk.js.map